<dt-stacked-series-chart
  style="min-height: 400px"
  [style.width]="elementWidth"
  id="test-stacked-series-chart"
  [selected]="selected"
  [selectionMode]="selectionMode"
  [selectable]="selectable"
  (selectedChange)="selected = $event"
  [mode]="mode"
  [series]="usedSeries"
  [heatFields]="heatFieldsByType[continuousAxisType][heatFieldType]"
  [valueDisplayMode]="valueDisplayMode"
  [fillMode]="fillMode"
  [visibleValueAxis]="visibleValueAxis"
  [visibleLegend]="visibleLegend"
  [visibleLabel]="visibleLabel"
  [labelAxisMode]="labelAxisMode"
  [visibleTrackBackground]="visibleTrackBackground"
  [style.--dt-stacked-series-chart-grid-gap]="
    !continuousAxisFormat ? '40px' : null
  "
  [style.--dt-stacked-series-chart-max-bar-size]="maxTrackSize + 'px'"
  [style.--dt-stacked-series-chart-extra-margin]="
    (!continuousAxisType ||
    continuousAxisType === 'none' ||
    continuousAxisFormat === continuousAxisFormatsByType.linear[1] ||
    continuousAxisFormat === continuousAxisFormatsByType.date[1]
      ? 32
      : 0) + 'px'
  "
  [continuousAxisType]="continuousAxisType"
  [continuousAxisInterval]="continuousAxisInterval"
  [continuousAxisFormat]="continuousAxisFormat"
  [continuousAxisMap]="continuousAxisMap"
  [max]="max"
  [legends]="usedLegends"
>
  <ng-template dtStackedSeriesChartOverlay let-tooltip>
    <strong>{{ tooltip.seriesOrigin.label }}</strong>
    <div>{{ tooltip.origin.label }}: {{ tooltip.origin.value }}</div>
  </ng-template>

  <ng-template dtStackedSeriesChartHeatFieldOverlay let-heatField>
    <h6>HeatField data</h6>
    <div>{{ heatField.name }}</div>
  </ng-template>
</dt-stacked-series-chart>

<div>
  <button (click)="reset()" id="chart-reset">Reset</button>
</div>

<div>
  <button (click)="mode = 'bar'" id="chart-mode-bar">Bar</button>
  <button (click)="mode = 'column'" id="chart-mode-column">Column</button>
</div>

<div>
  <button (click)="valueDisplayMode = 'none'" id="chart-value-mode-none">
    None
  </button>
  <button
    (click)="valueDisplayMode = 'absolute'"
    id="chart-value-mode-absolute"
  >
    Absolute
  </button>
  <button (click)="valueDisplayMode = 'percent'" id="chart-value-mode-percent">
    Percent
  </button>
</div>

<div>
  <button (click)="fillMode = 'full'" id="chart-fill-mode-full">Full</button>
  <button (click)="fillMode = 'relative'" id="chart-fill-mode-relative">
    Relative
  </button>
</div>

<div>
  <button (click)="usedSeries = series" id="chart-track-multi">
    Multi track
  </button>
  <button (click)="usedSeries = [series[1]]" id="chart-track-single">
    Single track
  </button>
</div>

<div>
  <button (click)="visibleValueAxis = true" id="chart-visible-value-axis">
    Show value axis
  </button>
  <button (click)="visibleValueAxis = false" id="chart-non-visible-value-axis">
    Hide value axis
  </button>
</div>

<div>
  <button (click)="visibleLegend = true" id="chart-visible-legend">
    Show legend
  </button>
  <button (click)="visibleLegend = false" id="chart-non-visible-legend">
    Hide legend
  </button>
</div>

<div>
  <button (click)="visibleLabel = true" id="chart-visible-label">
    Show label
  </button>
  <button (click)="visibleLabel = false" id="chart-non-visible-label">
    Hide label
  </button>
</div>

<div>
  <button (click)="labelAxisMode = 'full'" id="chart-full-label-axis-mode">
    Full
  </button>
  <button
    (click)="labelAxisMode = 'compact'"
    id="chart-compact-label-axis-mode"
  >
    Compact
  </button>
  <button (click)="labelAxisMode = 'auto'" id="chart-auto-label-axis-mode">
    Auto
  </button>
</div>

<div>
  <button
    (click)="visibleTrackBackground = true"
    id="chart-visible-track-background"
  >
    Show track background
  </button>
  <button
    (click)="visibleTrackBackground = false"
    id="chart-non-visible-track-background"
  >
    Hide track background
  </button>
</div>

<div>
  <button (click)="maxTrackSize = 8" id="chart-track-size-8">
    Track size 8
  </button>
  <button (click)="maxTrackSize = 32" id="chart-track-size-32">
    Track size 32
  </button>
</div>

<div>
  <button (click)="max = undefined" id="chart-no-max">No max</button>
  <button (click)="max = 10" id="chart-max-10">Max 10</button>
</div>

<div>
  <button (click)="usedLegends = legends" id="chart-set-legends">
    Set legends
  </button>
  <button (click)="usedLegends = undefined" id="chart-unset-legends">
    Unset legends
  </button>
</div>

<div>
  <button (click)="selectable = true" id="chart-selectable">Selectable</button>
  <button (click)="selectable = false" id="chart-non-selectable">
    Non selectable
  </button>
</div>

<div>
  <button
    (click)="selected = [series[0], series[0].nodes[0]]"
    id="chart-select"
  >
    Select
  </button>
  <button (click)="selected = []" id="chart-unselect">Unselect</button>
</div>

<div>
  <button (click)="setElementWidth('1200px')" id="chart-width-1200">
    1200px
  </button>
  <button (click)="setElementWidth('800px')" id="chart-width-800">800px</button>
  <button (click)="setElementWidth('300px')" id="chart-width-300">300px</button>
</div>

<div>
  <button (click)="selectionMode = 'node'" id="chart-selection-mode-node">
    Node
  </button>
  <button (click)="selectionMode = 'stack'" id="chart-selection-mode-stack">
    Stack
  </button>
</div>

<div>
  <button
    (click)="changeContinuousAxisType('none')"
    id="chart-continuous-axis-type-none"
  >
    None
  </button>
  <button
    (click)="changeContinuousAxisType('linear')"
    id="chart-continuous-axis-type-linear"
  >
    Linear
  </button>
  <button
    (click)="changeContinuousAxisType('date')"
    id="chart-continuous-axis-type-date"
  >
    Date
  </button>
</div>

<div>
  <button
    (click)="continuousAxisInterval = continuousAxisIntervals[0]"
    id="chart-continuous-axis-interval-five-min"
  >
    Every 5 mins
  </button>
  <button
    (click)="continuousAxisInterval = continuousAxisIntervals[1]"
    id="chart-continuous-axis-interval-half-hour"
  >
    Every half an hour
  </button>
  <button
    (click)="continuousAxisInterval = continuousAxisIntervals[2]"
    id="chart-continuous-axis-interval-hour"
  >
    Every hour
  </button>
</div>

<div>
  <button
    (click)="
      continuousAxisType === 'linear' &&
        (continuousAxisFormat = continuousAxisFormatsByType.linear[0])
    "
    id="chart-continuous-axis-format-2f"
  >
    2 decimals
  </button>
  <button
    (click)="
      continuousAxisType === 'linear' &&
        (continuousAxisFormat = continuousAxisFormatsByType.linear[1])
    "
    id="chart-continuous-axis-format-7f"
  >
    7 decimals
  </button>
</div>

<div>
  <button
    (click)="
      continuousAxisType === 'date' &&
        (continuousAxisFormat = continuousAxisFormatsByType.date[0])
    "
    id="chart-continuous-axis-format-short"
  >
    10:45
  </button>
  <button
    (click)="
      continuousAxisType === 'date' &&
        (continuousAxisFormat = continuousAxisFormatsByType.date[1])
    "
    id="chart-continuous-axis-format-long"
  >
    10:45:00:000AM
  </button>
</div>

<div>
  <button (click)="heatFieldType = 'none'" id="chart-heat-field-none">
    None
  </button>
  <button (click)="heatFieldType = 'normal'" id="chart-heat-field-normal">
    Normal
  </button>
  <button (click)="heatFieldType = 'overlap'" id="chart-heat-field-overlap">
    Overlap
  </button>
</div>
